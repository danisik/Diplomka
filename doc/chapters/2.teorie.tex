%CHAPTER
\chapter{Patent}
\todo{todo}
základní informace + uložiště dat + info o zdrojích (patentové úřady atp) \newline
\section{Patent vs Užitný vzor}
\section{Patent vs Průmyslový vzor}
\section{Patent vs Ochranná známka}
\section{Patent vs Autorská práva}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%CHAPTER
\chapter{Databáze}

Termín databáze označuje organizovanou kolekci strukturovaných informací nebo dat, která jsou typicky ukládána elektronicky v počítačovém systému. Data / informace lze nazvat jako fakta vztahující se k libovolnému uvažovanému objektu. Typický příklad objektu je člověk, jehož fakta jsou: jméno, věk, výška, váha a mnoho dalších \cite{guru99Database}.\newline

\section{Systém řízení báze dat}
Pro správu dat v databázi a její řízení je potřeba komplexní software, který se nazývá \textbf{Systém Řízení Báze Dat} (SŘBD, anglicky \gls{DBMS}). SŘBD slouží jako interface mezi samotnou databází a koncovým uživatelem (může být i program), umožňující jak vytěžování a aktualizaci dat, tak i možnosti nastavení záloh a jiných administrativních operací \cite{OracleDB}. V dnešním světe existuje několik různých \gls{DBMS} (například Relační \gls{DBMS}, Objektově-orientované \gls{DBMS}).
\begin{figure}[h!]
\centering
\includegraphics[width=10cm]{img/databaze/dbms}
\caption{Systém řízení báze dat}
\label{fig:dbms}
\end{figure}

\section{Komponenty databáze}
Všechny databáze sestávají z pěti základních komponent, nehledě na použitý typ databáze \cite{TechTargetDB, guru99Database}:
\begin{itemize}
\item \textbf{Hardware} - Fyzické stroje (počítače, servery, pevné disky, ...) na kterých běží databázový software.
\item \textbf{Software} - Databázový software poskytuje uživateli / programu kontrolu nad databází. Zahrnuje to samotný databázový software, operační systém, software pro správu sdílení dat mezi uživately a programy pro přístup k datům v databázi.
\item \textbf{Data} - Nezpracované a neorganizované fakty, které je potřeba zpracovat. Administrátor databáze organizuje tyto data a dává jim význam. Data se obecně skládají hlavně z faktů, observací, percepcí, čísel, znaků a mnoho dalších.
\item \textbf{Jazyk} - Typický příklad použití jazyku je přístup k datům, přidávání nových dat, úpravu již existujících dat z databáze. Uživatel / program napíše specifické příkazy v jazyku pro přístup k datům (Database Access Language) a tyto příkazy následně pošle databázi ke zpracování. Více viz kapitola č. \ref{sec:jazyky}.
\item \textbf{Procedury} - Procedura obsahuje předpřipravený seznam příkazů, které se následně vykonávají po zavolání dané procedury. 
\end{itemize}

\section{Typy databází}
V dnešním světě existuje mnoho různých typů databází. Výběr nejlepšího typu databáze pro konkrétní organizaci závisí na tom, jak organizace zamýšlí data používat. V této kapitole je vypsáno pouze pár typů, protože vznikají stále nové, méně známé typy databází, které jsou tvořeny pro specifické požadavky (například finanční, věděcké) \cite{matillionTypeDB, OracleDB}.

\subsection{Relační databáze}
Název relační databáze pochází ze způsobu, jakým jsou data uložena, a to ve více souvisejících tabulkách. Data v tabulkách jsou uložena v řádcích a sloupcích. Relační databáze jsou velice spolehlivé a podporují všechny čtyři žádoucí vlastnosti databázových transakcí \gls{ACID}. Pro co nejefektivěnjší využití tohoto typu databáze je potřeba ukládat pouze dobře strukturovaná data, pro částečně strukturovaná či nestrukturovaná data je vhodné použít například grafové nebo dokumentově založené databáze. Typické relační databáze jsou například: Microsoft SQL Server, Oracle Database, MySQL, PostgreSQL. Ukázku relační databáze lze vidět na obrázku č. \ref{fig:db_img_relational}.
	\begin{figure}[H]
	\centering
	\includegraphics[width=14cm]{img/databaze/relational_db}
	\caption{Ukázka relační databáze}
	\label{fig:db_img_relational}
	\end{figure}
\subsubsection{Datový model}
Relační datový model obsahuje několik fundamentálních konceptů. Koncepty lze vidět na obrázku č. \ref{fig:model_relational}.
\begin{figure}[H]
\centering
\includegraphics[width=16cm]{img/databaze/data_model_relational}
\caption{Koncepty relačního datového modelu.}
\label{fig:model_relational}
\end{figure}

\indent První z konceptů se nazývá \textbf{Relace}, což je dvou-dimenzionální tabulka, která se používá pro ukládání kolekce datových elementů. Tabulka je tvořena řádky a sloupci, kde řádky reprezentují záznamy a sloupce reprezentují atributy.
\newline
\indent \textbf{Řádka} je další koncept relačního modelu, která pouze reprezentuje jeden záznam v tabulce.
\newline
\indent Další z konceptů je \textbf{Atribut}, který reprezentuje sloupec v tabulce, neboli vlastnosti jednotlivých řádků (například jméno, příjmení, věk, ...).
\newline
\indent Koncept \textbf{Doména atributů} slouží k definici vlastností pro každou hodnotu daného atributu. Pomocí domény lze určit, zda hodnoty daného atributu mohou být prázdné, budou dlouhé maximálně 50 znaků nebo například určit datový typ atributu (textová hodnota, číslo, ...).
\newline
\indent Další z konceptů je \textbf{Stupeň}, který pouze určuje počet atributů v dané relaci.
\newline
\indent \textbf{Kardinalita} určuje počet řádků / záznamů existujících v dané relaci.
\newline
\indent Koncept \textbf{Relační schéma} popisuje návrh a strukturu relace. Obsahuje názvy tabulek, jejich atributy a typy atributů. Relační schéma pro naší tabulku lze vidět na obrázku č. \ref{fig:schema_relation}.
\begin{figure}[H]
\centering
\includegraphics[width=6cm]{img/databaze/schema_relation}
\caption{Relační schéma pro tabulku na obrázku č. \ref{fig:model_relational}.}
\label{fig:schema_relation}
\end{figure}

\indent \textbf{Relační instance} reprezentuje kolekci záznamů, které jsou uložené v tabulce v určitém čase.
\newline
\indent Poslední koncept \textbf{Relační klíč} je atribut / seznam atributů, které lze využít jako unikátní identifikátor jedné entity v tabulce, případně k určení vazby mezi dvěma relacema. Existuje šest typů relačních klíčů - kandidátní, super, složený, primární, cizí, sekundární / alternativní \cite{data_model_relation}.

\subsubsection{Výhody}
\todo{todo}
\subsubsection{Nevýhody}
\todo{todo}

\subsection{Objektově-orientovaná databáze}
Objektově-orientovaná databáze je založena na objektově-orientovaném programování, kdy data a všechny jejich atributy a metody jsou svázány dohromady jako objekt. Stejně jako relační databáze, i objektově-orientované databáze odpovídají standardům \gls{ACID}. Typické příklady jsou například: ObjectStore, ConceptBase. Ukázku objektově-orientované databáze lze vidět na obrázku č. \ref{fig:db_img_oo}.
	\begin{figure}[H]
	\centering
	\includegraphics[width=12cm]{img/databaze/oo_db}
	\caption{Ukázka objektově-orientované databáze}
	\label{fig:db_img_oo}
	\end{figure}
\subsubsection{Datový model}
\todo{todo}
\subsubsection{Výhody}
\todo{todo}
\subsubsection{Nevýhody}
\todo{todo}

\subsection{NoSQL databáze}
NoSQL je široká kategorie databází, které nepoužívají \gls{SQL} jako svůj primární jazyk pro přístup k datům. Tyto typy databází jsou také někdy označovány jako nerelační databáze. V NoSQL databázích se pracuje s nestrukturovanými a polostrukturovanými sadami distribuovaných dat. Jednou z výhod je, že vývojáři mohou provádět změny databáze za běhu, aniž by to ovlivnilo aplikace, které databázi používají.
\subsection{Databáze Klíč-Hodnota}
Databáze klíč-hodnota poskytuje nejjednodušší možný NoSQL datový model. Data jsou uložená jako pár klíč - hodnota ve slovníku / mapě, kdy klíč je indexem. Hodnota může být například celé číslo, řetězec, struktura \gls{JSON} nebo pole. Typické příklady jsou: Redis, Riak, LevelDB. Ukázku databáze klíč-hodnota lze vidět na obrázku č. \ref{fig:db_img_keyvalue}.
	\begin{figure}[H]
	\centering
	\includegraphics[width=10cm]{img/databaze/keyvalue_db}
	\caption{Ukázka databáze klíč-hodnota.}
	\label{fig:db_img_keyvalue}
	\end{figure}
\subsubsection{Datový model}
\todo{todo}
\subsubsection{Výhody}
\todo{todo}
\subsubsection{Nevýhody}
\todo{todo}

\subsection{Grafová databáze}
Grafová databáze je typem NoSQL databáze, která je založená na teorii grafů. Data jsou reprezentována jako uzly, hrany zase reprezentují vztahy mezi daty. Graf lze procházet podél určitých typů hran nebo přes celý graf. Procházení spojení nebo relací je velmi rychlé, protože vztahy mezi uzly se nepočítají v době dotazu, ale jsou v databázi trvalé. Typické příklady jsou: Neo4j, OrientDB, Microsoft Azure CosmosDB. Ukázku grafové databáze lze vidět na obrázku č. \ref{fig:db_img_graph}.
	\begin{figure}[H]
	\centering
	\includegraphics[width=8cm]{img/databaze/graph_db}
	\caption{Ukázka grafové databáze}
	\label{fig:db_img_graph}
	\end{figure}
\subsubsection{Datový model}
\todo{todo}
\subsubsection{Výhody}
\todo{todo}
\subsubsection{Nevýhody}
\todo{todo}

\subsection{Dokumentová databáze}
Databáze dokumentů jsou typem NoSQL databáze a  jsou navržené pro ukládání, načítání a správu informací orientovaných na dokumenty. Dokumenty jsou obvykle uloženy ve formátu \gls{XML}, \gls{JSON}, \gls{BSON}. 
Typické příklady jsou: MongoDB, Amazon DocumentDB, Elasticsearch. Ukázku dokumentové databáze lze vidět na obrázku č. \ref{fig:db_img_document}.
	\begin{figure}[H]
	\centering
	\includegraphics[width=11cm]{img/databaze/document_db}
	\caption{Ukázka dokumentově orientované databáze}
	\label{fig:db_img_document}
	\end{figure}
\subsubsection{Datový model}
\todo{todo}
\subsubsection{Výhody}
\todo{todo}
\subsubsection{Nevýhody}
\todo{todo}

\section{Existující řešení}
Pro vybrané typy databáze existují mnoho databázových řešení, které lze zmínit. V této kapitole se budeme zabývat především těmi nejznámějšími pro daný typ databáze, a které jsou zdarma ke stažení a používání. Pro každý typ databáze byly vybrány maximálně dvě řešení.
\subsection{MySQL}
MySQL je multiplatformní databáze uplatňující relační databázový model. Komunikace s databází (získávání dat, vytváření objektů, ...) probíhá pomocí jazyka \gls{SQL}, který je rozšířen o nové funkce. Nejnovější verze MySQL je open-source, což znamená, že kdokoliv může používat a libovolně upravovat MySQL systém, aniž by musel cokoliv platit. V případě změny zdrojových kódů je potřeba nastudovat podmínky užívání definované licencí \gls{GPL} \cite{mysql}.
\newline
\indent Od samých počátků bylo MySQL optimalizováno především na rychlost i za cenu některých zjednodušení (například způsob zálohování dat). Díky tomuto lze provozovat jednoduché servery na počítači společně s jinýma aplikacema, případně jiné databáze. Server lze nakonfigurovat tím způsobem, že může využívat veškerou paměť, procesorový čas i vstupně výstupní kapacity.
\newline

\noindent MySQL server může být využit dvěma způsoby:
\begin{itemize}
\item \textbf{Klient / server} - vícevláknový \gls{SQL} server, který podporuje různé back-endy, několik různých klientských programů a knihoven a mnoho dalšího.
\item \textbf{Věstavěná knihovna} - vícevláknová věstavěná knihovna, kterou lze propojit do své aplikace a získat tím menší, rychlejší a snadněji spravovatelný samostatný produkt.
\end{itemize}
\subsection{PostgreSQL}
Relační \todo{todo}
\subsection{ConceptBase}
OO \todo{todo}
\subsection{LevelDB}
KeyValue \todo{todo}
\subsection{Redis}
KeyValue \todo{todo}
\subsection{MongoDB}
Document \todo{todo}
\subsection{Elasticsearch}
Document \todo{todo}
\subsection{Neo4j}
Graf \todo{todo}

\section{Jazyky} \label{sec:jazyky}
Databázové jazyky, jinak známé jako dotazovací jazyky, jsou klasifikací programovacích jazyků, které se používají k definování a přístupu k databázím. Pomocí těchto jazyků dokáže uživatel získávat nebo spravovat data v databázích. V dnešní době se jazyky (například \gls{SQL}) mohou skládat ze čtyř podjazyků, kdy každý slouží k jinému účelu v rámci vykonávání příkazů \cite{indeedDBLanguage, begginersBookDBLanguage}:
\begin{itemize}
\item \textbf{Data definition language} (DDL) - DDL umí vytvářet jednotlivé komponenty databázového schématu (tabulky, soubory, indexy, ...), které tvoří strukturu reprezentující organizaci dat v databázi. Dostupné příkazy pro jazyk DDL:
	\begin{itemize}
	\item \textbf{CREATE} - Vytvoření nového objektu (tabulka, index, ...).
	\item \textbf{ALTER} - Změna struktury objektu.
	\item \textbf{DROP} - Smazání objektu.
	\item \textbf{RENAME} - Změna názvu objektu.
	\item \textbf{TRUNCATE} - Smazání podobjektů v objektu (například záznamy v tabulce).
	\end{itemize}
\item \textbf{Data manipulation language} (DML) - DML slouží pro manipulaci s daty, které se nachází v již existující databázi. Dostupné příkazy pro jazyk DML:
	\begin{itemize}
	\item \textbf{SELECT} - Získání záznamů (dat) z tabulky.
	\item \textbf{INSERT} - Vložení nového záznamu (dat) do tabulky.
	\item \textbf{UPDATE} - Úprava existujícího záznamu v tabulce.
	\item \textbf{DELETE} - Smazání záznamu z tabulky.
	\end{itemize}
\item \textbf{Data control language} (DCL) - Pomocí DCL lze kontrolovat přístupy a práva k datům, které jsou uloženy v databázi. Uživateli lze nastavit práva k jednotlivým DML příkazům nad tabulkama / procedurama (například uživatel bude mít přístup pouze k příkazu SELECT nad tabulkou "TABULKA"). Dostupné příkazy pro jazyk DCL:
	\begin{itemize}
	\item \textbf{GRANT} - Přidání práv uživateli nad danou tabulkou / procedurou. 
	\item \textbf{REVOKE} - Odebrání práv uživateli nad danou tabulkou / procedurou.
	\end{itemize}

\item \textbf{Transaction control language} (TCL) - TCL spravuje transakce v databázi. Transakce obsahuje jeden či více DML příkazů nad tabulkama, které se vykonávají po sobě. Všechny příkazy musí být úspěšně provedeny, aby bylo možné transakci označit za úspěšnou. Ukázka jedné transakce viz obrázek č. \ref{fig:tcl_savepoint}. Dostupné příkazy pro jazyk TCL:
	\begin{itemize}
	\item \textbf{COMMIT} - Potvrzení transakce, změny provedené v transakci jsou permanentní a nejdou vzít zpět.
	\item \textbf{ROLLBACK} - Vezme zpět veškerou práci v aktuální transakci. Lze se vrátit na začátek transakce nebo k SAVEPOINTu.
	\item \textbf{SAVEPOINT} - Nastavení bodu v transakci, ke kterému se lze v budoucnu vrátit pomocí ROLLBACK.
	\end{itemize}
\end{itemize}
	\begin{figure}[H]
	\centering
	\includegraphics[width=14cm]{img/databaze/tcl_savepoint}
	\caption{Ukázka jedné transakce (bez commitu)}
	\label{fig:tcl_savepoint}
	\end{figure}

\noindent Níže v kapitolách jsou popsány příklady dnešních jazyků.
\subsection{Structured Query Language}
Structured Query Language (\gls{SQL}) je jazyk pro komunikaci s databázema, v dnešní době standard pro relační databázové systémy. Pomocí \gls{SQL} příkazů lze například vytvářet nové objekty v databázi, upravovat existující data v tabulkách nebo vytvářet různá integritní omezení a triggery. Většina existujících databázových systémů používá upravený \gls{SQL} jazyk, který navíc obsahuje dodatečná rozšíření pro splnění požadavků v jejich systémech.

\subsubsection{Syntax}
Syntaxe \gls{SQL} se skládá z unikátního seznamu pravidel a směrnic. Při psaní příkazů zde nehraje roli citlivost písma (příkazy select a SELECT jsou záměnné). Dotazy lze psát na jednu nebo více řádek, které musí / můžou být zakončené středníkem (záleží na pravidlech používaného systému). Na obrázku č. \ref{fig:sql} lze vidět příklad dotazu, který získá jména a příjmení uživatelů z tabulky 'user' s datem narození po roce 2000.
	\begin{figure}[H]
	\centering
	\includegraphics[width=13cm]{img/databaze/sql}
	\caption{Příklad \gls{SQL} dotazu.}
	\label{fig:sql}
	\end{figure}

\noindent Dotazy lze zanořovat do sebe, kdy výsledek jednoho dotazu jde použit jako podmínka pro druhý dotaz, viz obrázek č. \ref{fig:sql2}.
	\begin{figure}[H]
	\centering
	\includegraphics[width=14cm]{img/databaze/sql2}
	\caption{Příklad zanořeného \gls{SQL} dotazu.}
	\label{fig:sql2}
	\end{figure}

\subsection{MongoDB Query Language}
MongoDB Query Language (\gls{MQL}) je jazyk pro získávání dat z MongoDB dokumentových databází. Dotazy zde poskytují jednoduchost v procesu načítání dat z databáze, stejně jako tomu je u \gls{SQL}. Při provádění dotazů lze také použít kritéria nebo podmínky, kterými lze načíst konkrétní data z databáze. Jazyk také podporuje \gls{CRUD} operace. Výsledky můžeme třídit, seskupovat, fitrovat a spočítat jejich četnost za pomoci agregační pipeline (zřetězeného zpracování). \gls{MQL} podporuje transakce více dokumentů \cite{mongo_lang}.

\subsubsection{Syntax}
Syntaxe \gls{MQL} je intuitivní a jednoduchá na používání i pro velice složité dotazy, protože ta samá syntaxe se používá i pro uložené dokumenty v databázi. Příklad syntaxe pro vytváření, čtení, úpravu a mazání dokumentů (\gls{CRUD}) lze vidět na obrázku č. \ref{fig:crud}.
	\begin{figure}[H]
	\centering
	\includegraphics[width=12cm]{img/databaze/crud}
	\caption{Příklady \gls{CRUD} operací v MongoDB.}
	\label{fig:crud}
	\end{figure}

\subsection{Cypher Query Language}
Cypher je dotazovací jazyk pro grafovou databázi Neo4j a umožňuje získávat data z grafů. Tento jazyk byl inspirován hlavně \gls{SQL} - uživatel se zaměřuje pouze na to, jaká data chce získat, ne jak je má získat. Cypher je unikátní v tom, že poskytuje vizuální způsob, jak sladit vzory a vztahy \cite{cypher}.

\subsubsection{Syntax}
Cypher využívá \gls{ASCII}-art typ syntaxe, což je umění, které pracuje s počítačovým textem jako s výtvarným médiem (například obrázky se skládají ze znaků kódu \gls{ASCII}). Syntaxi lze vidět na obrázku č. \ref{fig:cypher_syntax}. Pro jednotlivé uzly se používají kruhové závorky, pro vztah se používá šipka s hranatýma závorkama obsahující vztah prvního uzlu s druhým uzlem.
	\begin{figure}[H]
	\centering
	\includegraphics[width=14cm]{img/databaze/cypher_syntax1}
	\caption{Syntaxe jazyka Cypher.}
	\label{fig:cypher_syntax}
	\end{figure}
\noindent Na obrázku č. \ref{fig:cypher_sample} lze vidět jednoduchý dotaz, který hledá výsledný uzel pro vstupní uzel, kterým je člověk se jménem 'Dan', a vztahu 'LOVES' mezi uzly.
	\begin{figure}[H]
	\centering
	\includegraphics[width=14cm]{img/databaze/sample-cypher}
	\caption{Dotaz v jazyce Cypher.}
	\label{fig:cypher_sample}
	\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\chapter{Docker}
%\todo{todo}
%Popsat docker jako takový - kontejnery, image, docker compose, ...\newline
%\section{Kontejner vs Virtuální stroj}